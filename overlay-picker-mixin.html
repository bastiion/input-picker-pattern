<link rel="import" href="overlay-element.html">
<link rel="import" href="input-shared-style.html">
<link rel="import" href="dropdown-tip-style.html">
<link rel="import" href="../iron-overlay-behavior/iron-overlay-behavior.html">

<script>
  /**
   * mixin to extend an picker with an `overlay-element`
   *
   * @mixinFunction
   * @polymer
   */
  const OverlayPickerMixin = (superClass) => { // eslint-disable-line no-unused-vars

    return class extends Polymer.mixinBehaviors([Polymer.IronOverlayBehavior], superClass) { // eslint-disable-line no-undef

      // static get pickerTemplate() {
      //   return `
      //     <overlay-element id="picker"
      //       always-on-top="[[alwaysOnTop]]"
      //       with-backdrop="[[withBackdrop]]"
      //       no-cancel-on-outside-click="[[noCancelOnOutsideClick]]"
      //       no-cancel-on-esc-key="[[noCancelOnEscKey]]"
      //       no-overlap="[[noOverlap]]"
      //       dynamic-align="[[dynamicAlign]]"
      //       vertical-align="[[verticalAlign]]"
      //       horizontal-align="[[horizontalAlign]]"
      //       opened="{{opened}}">
      //       ${super.pickerTemplate}
      //     </overlay-element>
      //   `;
      // }
      //
      /**
       * custom style content
       * @type {string}
       */
      static get customStyleContent() {
        return `
          :host {
            display: inline-flex !important;
          }
          ${super.customStyleContent || ''}
        `
      }


      static get customStyleToInclude() {
        return 'input-shared-style dropdown-tip-style';
      }

      connectedCallback() {
        super.connectedCallback();
        this.positionTarget = this.$.polyfill;
        this.sizingTarget = this.$.picker;
        this.fit();
      }
    }
  }
</script>
